<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" data-ng-app="FileManagerApp">
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no">
<meta charset="utf-8">
<title>File Manager</title>

<!-- third party -->
<script th:src="@{/static/angular-filemanager/bower_components/angular/angular.min.js}"></script>
<script th:src="@{/static/angular-filemanager/bower_components/angular-translate/angular-translate.min.js}"></script>
<script th:src="@{/static/angular-filemanager/bower_components/ng-file-upload/ng-file-upload.min.js}"></script>
<script th:src="@{/static/angular-filemanager/bower_components/jquery/dist/jquery.min.js}"></script>
<script th:src="@{/static/angular-filemanager/bower_components/bootstrap/dist/js/bootstrap.min.js}"></script>
<link rel="stylesheet" th:href="@{/static/angular-filemanager/bower_components/bootswatch/paper/bootstrap.min.css}" />

<!-- angular-filemanager -->
<script th:src="@{/static/angular-filemanager/dist/angular-filemanager.min.js}"></script>
<link th:href="@{/static/angular-filemanager/dist/angular-filemanager.min.css}" rel="stylesheet">

<script type="text/javascript">
	// 重写默认Config配置
	angular.module('FileManagerApp').config(
			[
					'fileManagerConfigProvider',
					function(config) {
						var defaults = config.$get();
						config.set({
							appName : 'HOME',
							defaultLang : 'en',
							listUrl : '/admin/api/filemanager/angularfilemanager/list/',
							uploadUrl : '/admin/api/filemanager/angularfilemanager/upload/',
							downloadFileUrl : '/admin/api/filemanager/angularfilemanager/preview/',
							createFolderUrl : '/admin/api/filemanager/angularfilemanager/createFolder/',
							//permissionsUrl: '/admin/api/filemanager/angularfilemanager/changePermissions/',
							copyUrl : '/admin/api/filemanager/angularfilemanager/copy/',
							moveUrl : '/admin/api/filemanager/angularfilemanager/move/',
							removeUrl : '/admin/api/filemanager/angularfilemanager/remove/',
							renameUrl : '/admin/api/filemanager/angularfilemanager/rename/',
							getContentUrl : '/admin/api/filemanager/angularfilemanager/getContent/',
							editUrl : '/admin/api/filemanager/angularfilemanager/edit/',
							compressUrl : '/admin/api/filemanager/angularfilemanager/compress/',
							extractUrl : '/admin/api/filemanager/angularfilemanager/extract/',
							pickCallback : function(item) {
								var msg = 'Picked %s "%s" for external use'
										.replace('%s', item.type).replace('%s',
												item.fullPath());
								window.alert(msg);
							},

							allowedActions : angular.extend(
									defaults.allowedActions, {
										pickFiles : false,
										pickFolders : false,
										downloadMultiple : false,
										changePermissions : true
									}),
							tplPath : '/admin/filemanager/angularfilemanager/templates'
						});
					} ]);
</script>
</head>
<body class="ng-cloak">
	<angular-filemanager></angular-filemanager>
</body>
</html>
